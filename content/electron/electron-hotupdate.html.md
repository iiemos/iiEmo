---
title: 'Electron è‡ªåŠ¨æ›´æ–° - å¢žé‡æ›´æ–°'
keywords: 'ä¸€æœµå¤§å‘²èŠ±,ITåšå®¢,æŠ€æœ¯åšå®¢,åŒºå—é“¾åšå®¢'
description: 'Electron ä½¿ç”¨ electron-updater è‡ªåŠ¨æ›´æ–° - å¢žé‡æ›´æ–°'

layout: 'markdown-full'

summary:
  title: 'Electron è‡ªåŠ¨æ›´æ–° - å¢žé‡æ›´æ–°'
  type: 'å­¦ä¹ ç¬”è®°'
  icon: 'ðŸ‘'
  desc: 'Electron ä½¿ç”¨ electron-updater è‡ªåŠ¨æ›´æ–° - å¢žé‡æ›´æ–°'
  tags: 'Electron Hot updater'
  createtime: '2022-10-28'
  pic: '/img/pic/hot_update.jpg'
---


# Electron è‡ªåŠ¨æ›´æ–° - å¢žé‡æ›´æ–°

## çº¿ä¸Šå®¢æˆ·ç«¯ç‰ˆæœ¬éœ€è¦æ›´æ–°ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ `å…¨é‡æ›´æ–°` å’Œ `å¢žé‡æ›´æ–°`
 > å½“å‰ä¸ºå¢žé‡æ›´æ–°ï¼š
  - é€‚ç”¨åœºæ™¯ï¼šåŠŸèƒ½ç‰¹æ€§çš„æ”¹è¿›ã€å°åŠŸèƒ½çš„ä¸Šçº¿ã€æ™®é€š BUG çš„ä¿®å¤ã€‚è®©ä½  **ã€Œ æƒ…ç»ªä¿æŒç¨³å®š ã€** çš„æ›´æ–°
  - æ›´æ–°æµç¨‹ï¼š
    - å®¢æˆ·ç«¯é€šè¿‡å®šæ—¶æ£€æµ‹ã€æˆ–è€…æœåŠ¡ç«¯æŽ¨é€æ–¹å¼æ£€æµ‹æ˜¯å¦æœ‰æ›´æ–°
    - é€šè¿‡ç‰ˆæœ¬å¯¹æ¯”å‘çŽ°æ›´æ–°ï¼Œå¹¶èŽ·å–åˆ°éœ€è¦æ›´æ–°çš„æ–‡ä»¶åç§°
    - ä¸‹è½½ `app.asar.upacked.xxx.tgz` æ›´æ–°æ–‡ä»¶åˆ°åº”ç”¨çš„æŒ‡å®šç›®å½•ï¼ˆè·¯å¾„å› ç³»ç»Ÿè€Œå¼‚ï¼‰
    - è§£åŽ‹è¦†ç›–åŽŸæ–‡ä»¶ï¼Œé‡å¯åº”ç”¨


 - åº”ç”¨åœ¨ä»£ç æ”¹åŠ¨è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€æ¯”è¾ƒä¼˜é›…çš„æ›´æ–°æ–¹å¼å°±æ˜¯å¢žé‡æ›´æ–°äº†ã€‚å¢žé‡æ›´æ–°çš„æ–¹æ¡ˆä¹Ÿæœ‰å¤šç§ï¼Œå…·ä½“çš„å¢žé‡æ›´æ–°æ–¹æ¡ˆéœ€è¦é’ˆå¯¹å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚ä¸‹è¾¹ä»‹ç»ä¸¤ç§å¸¸è§çš„å¢žé‡æ›´æ–°æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä»ç„¶æ˜¯åŸºäºŽ `electron-builder` çš„æ‰“åŒ…æ–¹å¼æ¥å®žçŽ°çš„ã€‚


#### å›ºå®šæ¨¡å—å‡çº§
  `asar` æ˜¯ Electron æä¾›çš„ä¸€ç§å°†å¤šä¸ªæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶çš„ç±» `tar` é£Žæ ¼çš„å½’æ¡£æ ¼å¼ï¼Œä¸ä»…å¯ä»¥ç¼“è§£ Widows ä¸‹è·¯å¾„åè¿‡é•¿çš„é—®é¢˜ï¼Œè¿˜èƒ½ç•¥å¾®åŠ å¿« `require` çš„é€Ÿåº¦ï¼Œå¹¶ä¸”å¯ä»¥éšè—ä½ çš„æºä»£ç ï¼ˆå¹¶éžç»å¯¹éšè—ï¼Œä¸“ä¸šäººå£«è¿˜æ˜¯å¯ä»¥è§£åŽ‹ç¼©çš„ï¼‰ï¼Œäº†è§£æ›´å¤šè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ [asar](https://github.com/electron/asar){:target="_blank"}ã€‚

  åŸºäºŽ `electron-builder` çš„ `asar` æ‰“åŒ…é…ç½®ã€‚
  ```json
    {
      "appId": "com.test.app",
      "productName": "APP",
      "files": ["./build/**/*"],
      "compression": "maximum",
      "asar": true,
      "directories": {
        "output": "dist"
      },
      "mac": {
        "target": ["dmg", "zip"]
      }
    }
  ```

  æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶

  æ ¹æ®é…ç½®æ–‡ä»¶æ‰“åŒ…åŽä¼šç”Ÿæˆå®‰è£…åŒ…å’Œå¢žé‡åŒ…ï¼Œå…¶ä¸­ `app.asar` åŽ‹ç¼©æ–‡ä»¶å°±æ˜¯åŸºæœ¬ä¸è¦å˜åŠ¨çš„ä»£ç ï¼Œ`app.asar.upacked` ç›®å½•å°±æ˜¯æˆ‘ä»¬çš„å¢žé‡æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å˜æ›´çš„ä»£ç ã€‚æœ€åŽæ³¨æ„æˆ‘ä»¬è¦å¯¹å¢žé‡åŒ…è¿›è¡ŒåŽ‹ç¼©ï¼Œå‡å°‘æ›´æ–°åŒ…ä½“ç§¯ï¼Œç„¶åŽä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨ã€‚

  ```md
    â”œâ”€â”€ dist
    â”œâ”€â”€ win-unpacked
      â”œâ”€â”€ resources
        â”œâ”€â”€ app.asar
        â”œâ”€â”€ app.asar.unpacked
        â”œâ”€â”€ 
      â”œâ”€â”€ app.exe
    â”œâ”€â”€ builder-effective-config.yaml
    â”œâ”€â”€ latest.yml
    â”œâ”€â”€ app-0.0.2.exe
    â””â”€â”€ app-0.0.2.exe.blockmap
  ```
  >> æœªå®Œå¾…ç»­....