import { defineTransformer } from "./utils.mjs";
export default defineTransformer({
  name: "csv",
  extensions: [".csv"],
  parse: async (_id, content, options = {}) => {
    const csvToJson = await import("csvtojson").then((m) => m.default || m);
    const parsed = await csvToJson({ output: "json", ...options }).fromString(content);
    return {
      _id,
      _type: "csv",
      body: parsed
    };
  }
});
